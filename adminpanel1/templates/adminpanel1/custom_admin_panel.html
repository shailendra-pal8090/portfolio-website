<!-- filepath: f:\all django projects 16.june.2025\portfolio new 29\portfolio\adminpanel1\templates\adminpanel1\custom_admin_panel.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    :root {
        --primary: #4e73df;
        --primary-dark: #2e59d9;
        --secondary: #858796;
        --success: #1cc88a;
        --info: #36b9cc;
        --warning: #f6c23e;
        --danger: #e74a3b;
        --light: #f8f9fc;
        --dark: #5a5c69;
    }
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    body {
        background-color: #f8f9fc;
    }
    .dashboard-container {
        display: flex;
        min-height: 100vh;
    }
    /* Sidebar */
    .sidebar {
        width: 250px;
        background: linear-gradient(180deg, #2a3f54 10%, #1a2a3a 100%);
        color: white;
        transition: all 0.3s;
        position: fixed;
        height: 100vh;
        z-index: 1000;
        left: 0;
        top: 0;
    }
    .sidebar-header {
        padding: 1.5rem 1.5rem 0.5rem;
        font-weight: 800;
        font-size: 1.2rem;
        text-align: center;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .sidebar-menu {
        padding: 0.5rem 0;
    }
    .nav-item {
        position: relative;
    }
    .nav-link {
        display: flex;
        align-items: center;
        padding: 1rem 1.5rem;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        transition: all 0.3s;
    }
    .nav-link:hover, .nav-link.active {
        color: white;
        background-color: rgba(255, 255, 255, 0.1);
    }
    .nav-link i {
        margin-right: 0.75rem;
        font-size: 0.85rem;
    }
    .sidebar-divider {
        border-top: 1px solid rgba(255, 255, 255, 0.15);
        margin: 1rem 0;
    }
    .sidebar-heading {
        padding: 0 1.5rem 1rem;
        font-size: 0.75rem;
        font-weight: 800;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.4);
    }
    .dropdown-menu {
        padding-left: 2.5rem;
        display: none;
    }
    .dropdown-menu.show {
        display: block;
    }
    .dropdown-toggle::after {
        content: '\f107';
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
        margin-left: auto;
        transition: transform 0.3s;
    }
    .dropdown-toggle.show::after {
        transform: rotate(180deg);
    }
    /* Main Content */
    .main-content {
        flex: 1;
        margin-left: 250px;
        padding: 1.5rem;
        transition: margin-left 0.3s;
        width: 100%;
    }
    /* Hamburger */
    .hamburger {
        display: none;
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1100;
        background: #fff;
        border: none;
        font-size: 2rem;
        color: var(--primary);
        border-radius: 5px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        cursor: pointer;
        padding: 0.25rem 0.75rem;
    }
    /* Responsive */
    @media (max-width: 900px) {
        .sidebar {
            left: -250px;
        }
        .sidebar.active {
            left: 0;
        }
        .main-content {
            margin-left: 0;
        }
        .main-content.overlay {
            pointer-events: none;
            opacity: 0.5;
        }
        .hamburger {
            display: block;
        }
    }


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        body {
            background-color: #f8f9fc;
        }
        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }
        {% comment %} /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, #2a3f54 10%, #1a2a3a 100%);
            color: white;
            transition: all 0.3s;
            position: fixed;
            height: 100vh;
            z-index: 1000;
        }
        .sidebar-header {
            padding: 1.5rem 1.5rem 0.5rem;
            font-weight: 800;
            font-size: 1.2rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .sidebar-menu {
            padding: 0.5rem 0;
        }
        .nav-item {
            position: relative;
        }
        .nav-link {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s;
        }
        .nav-link:hover, .nav-link.active {
            color: white;
            background-color: rgba(255, 255, 255, 0.1);
        }
        .nav-link i {
            margin-right: 0.75rem;
            font-size: 0.85rem;
        }
        .sidebar-divider {
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            margin: 1rem 0;
        }
        .sidebar-heading {
            padding: 0 1.5rem 1rem;
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.4);
        }
        .dropdown-menu {
            padding-left: 2.5rem;
            display: none;
            position: relative;
        }
        .dropdown-menu.show {
            display: block;
        }
        .dropdown-toggle::after {
            content: '\f107';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            margin-left: auto;
            transition: transform 0.3s;
        }
        .dropdown-toggle.show::after {
            transform: rotate(180deg);
        } {% endcomment %}








    /* Add these styles to your existing CSS */
    .sidebar {
        overflow-y: auto; /* Enable vertical scrolling */
        height: 100vh; /* Full viewport height */
        display: flex;
        flex-direction: column;
    }
    
    .sidebar-header {
        flex-shrink: 0; /* Prevent header from shrinking */
        position: sticky;
        top: 0;
        background: linear-gradient(180deg, #2a3f54 10%, #1a2a3a 100%);
        z-index: 10; /* Ensure header stays above scrollable content */
    }
    
    .sidebar-menu {
        flex-grow: 1; /* Allow menu to grow and take remaining space */
        overflow-y: auto; /* Enable scrolling for menu content */
        padding-bottom: 20px; /* Add some space at bottom */
    }
    
    /* Remove duplicate CSS rules (you had two complete sets of styles) */













        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 1.5rem;
        }
        /* Top Navigation */
        .top-navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            margin-bottom: 1.5rem;
            background-color: white;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
            padding: 0.75rem 1.5rem;
        }
        .page-title h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            margin: 0;
        }
        .user-menu {
            display: flex;
            align-items: center;
        }
        .notification-bell {
            position: relative;
            margin-right: 1.5rem;
            color: var(--dark);
            cursor: pointer;
        }
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.65rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .user-profile {
            display: flex;
            align-items: center;
            cursor: pointer;
            position: relative;
        }
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 0.75rem;
            object-fit: cover;
        }
        .user-name {
            font-weight: 600;
            color: var(--dark);
        }
        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: white;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
            width: 200px;
            padding: 0.5rem 0;
            display: none;
            z-index: 1000;
        }
        .user-dropdown.show {
            display: block;
        }
        .user-dropdown a {
            display: block;
            padding: 0.5rem 1.5rem;
            color: var(--dark);
            text-decoration: none;
            transition: all 0.3s;
        }
        .user-dropdown a:hover {
            background-color: #f8f9fc;
            color: var(--primary);
        }
        .user-dropdown .divider {
            height: 1px;
            background-color: #e3e6f0;
            margin: 0.5rem 0;
        }
        /* Dashboard Cards */
        .card-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .card {
            background-color: white;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
            overflow: hidden;
        }
        .card-header {
            padding: 1rem 1.35rem;
            background-color: #f8f9fc;
            border-bottom: 1px solid #e3e6f0;
        }
        .card-title {
            font-weight: 700;
            color: var(--dark);
            font-size: 1rem;
            margin: 0;
        }
        .card-body {
            padding: 1.25rem;
        }
        .stat-card {
            display: flex;
            align-items: center;
        }
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.25rem;
        }
        .stat-icon.primary {
            background-color: rgba(78, 115, 223, 0.1);
            color: var(--primary);
        }
        .stat-icon.success {
            background-color: rgba(28, 200, 138, 0.1);
            color: var(--success);
        }
        .stat-icon.warning {
            background-color: rgba(246, 194, 62, 0.1);
            color: var(--warning);
        }
        .stat-icon.danger {
            background-color: rgba(231, 74, 59, 0.1);
            color: var(--danger);
        }
        .stat-info h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .stat-info p {
            color: var(--secondary);
            font-size: 0.875rem;
            margin: 0;
        }
        /* Data Tables */
        .table-responsive {
            overflow-x: auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid #e3e6f0;
        }
        th {
            background-color: #f8f9fc;
            color: var(--dark);
            font-weight: 700;
        }
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .status-badge.active {
            background-color: rgba(28, 200, 138, 0.1);
            color: var(--success);
        }
        .status-badge.inactive {
            background-color: rgba(108, 117, 125, 0.1);
            color: #6c757d;
        }
        .status-badge.pending {
            background-color: rgba(246, 194, 62, 0.1);
            color: var(--warning);
        }
        .status-badge.banned {
            background-color: rgba(231, 74, 59, 0.1);
            color: var(--danger);
        }
        .action-btn {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            margin-right: 0.25rem;
        }
        .action-btn.edit {
            background-color: rgba(78, 115, 223, 0.1);
            color: var(--primary);
        }
        .action-btn.delete {
            background-color: rgba(231, 74, 59, 0.1);
            color: var(--danger);
        }
        /* Charts */
        .chart-container {
            margin-bottom: 1.5rem;
        }
        .chart-card {
            height: 100%;
        }
        /* Responsive */
        @media (max-width: 900px) {
            .main-content {
        margin-left: 0 !important;
    }
    .sidebar.active ~ .main-content {
        margin-left: 250px !important;
    }
        } 
    



</style>
</head>
<body>
    <!-- Hamburger Icon -->
    <button class="hamburger" id="hamburgerBtn">
        <i class="fas fa-bars"></i>
    </button>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                Admin Panel
            </div>
            <div class="sidebar-menu">
                <ul>
                    <li class="nav-item">
                        <a href="#" class="nav-link active">
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-fw fa-users"></i>
                            <span>Users</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-fw fa-user-shield"></i>
                            <span>Admins</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-fw fa-user-shield"></i>
                            <span>Contacts</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-fw fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                    <div class="sidebar-divider"></div>
                    <div class="sidebar-heading">Management</div>
                    <li class="nav-item">
                        <a href="#" class="nav-link dropdown-toggle">
                            <i class="fas fa-fw fa-boxes"></i>
                            <span>Products</span>
                        </a>
                        <div class="dropdown-menu">
                            <a href="#" class="nav-link">All Products</a>
                            <a href="#" class="nav-link">Add New</a>
                            <a href="#" class="nav-link">Categories</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link dropdown-toggle">
                            <i class="fas fa-fw fa-shopping-cart"></i>
                            <span>Orders</span>
                        </a>
                        <div class="dropdown-menu">
                            <a href="#" class="nav-link">All Orders</a>
                            <a href="#" class="nav-link">Processing</a>
                            <a href="#" class="nav-link">Completed</a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-fw fa-chart-line"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <div class="sidebar-divider"></div>
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="fas fa-fw fa-question-circle"></i>
                            <span>Help</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Top Navigation -->
            <div class="top-navbar">
                <div class="page-title">
                    <h1>Admin Dashboard</h1>
                </div>
                <div class="user-menu">
                    <div class="notification-bell">
                        <i class="fas fa-bell fa-lg"></i>
                        <span class="notification-badge">3</span>
                    </div>


                    <div class="user-profile" id="userProfile">
                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Admin" class="user-avatar">
                        <span class="user-name">
                            {% if user.is_authenticated %}
                                {{ user.username }}
                            {% else %}
                                Guest
                            {% endif %}
                        </span>
                        <div class="user-dropdown" id="userDropdown">
                        {% if user.is_authenticated %}
                            <a href="#"><i class="fas fa-fw fa-user"></i> Profile</a>
                            <a href="#"><i class="fas fa-fw fa-cog"></i> Settings</a>
                            <a href="#"><i class="fas fa-fw fa-envelope"></i> Messages</a>
                        <div class="divider"></div>
                            <a href="{% url 'logout' %}"><i class="fas fa-fw fa-sign-out-alt"></i> Logout</a>
                            {% else %}
                                <a href="{% url 'login' %}"><i class="fas fa-fw fa-sign-in-alt"></i> Login</a>
                            {% endif %}
                        </div>
                    </div>

                </div>
            </div>
            <!-- Dashboard Cards -->
            <div class="card-row">
                <div class="card stat-card">
                    <div class="card-body">
                        <div class="stat-icon primary">
                            <i class="fas fa-users"></i>
                        </div>
                        
                        <div class="stat-info">
                            <h3>{{user_count }}</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                </div>
                            
                        


                <div class="card stat-card">
                    <div class="card-body">
                        <div class="stat-icon success">
                            <i class="fas fa-address-book"></i> <!-- Contact icon -->
                        </div>
                        <div class="stat-info">
                            <h3>{{ contacts|length }}</h3>
                            <p>Total Contact</p>
                        </div>
                    </div>
                </div>


                <div class="card stat-card">
                    <div class="card-body">
                        <div class="stat-icon danger">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>12</h3>
                            <p>Pending Issues</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Recent Users Table -->
            <div class="card">
                <div class="card-header">
                    <h6 class="card-title">Recent Contact Users </h6>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Subject</th>
                                    <th>Message</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for contact in contacts %}
                                <tr>
                                    <td>{{forloop.counter}}</td>
                                    <td>{{contact.name}} </td>
                                    <td>{{contact.email}}</td>
                                    <td>{{contact.subject}}</td>
                                    <td><span class="status">{{contact.message}}</span></td>
                                    <td>
                                        <button class="action-btn edit"><a href="{% url 'edit' contact.id %}">Edit</a></button>
                                        <button class="action-btn delete"><a href="{% url 'delete' contact.id %}">Delete</a></button>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script>

    // Hamburger menu toggle
    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');
    hamburgerBtn.addEventListener('click', function() {
        sidebar.classList.toggle('active');
        mainContent.classList.toggle('overlay');
    });
    // Close sidebar when clicking outside (on overlay)
    mainContent.addEventListener('click', function() {
        if (sidebar.classList.contains('active')) {
            sidebar.classList.remove('active');
            mainContent.classList.remove('overlay');
        }
    });
    // Toggle user dropdown
    document.getElementById('userProfile').addEventListener('click', function(e) {
        e.stopPropagation();
        document.getElementById('userDropdown').classList.toggle('show');
    });
    // Close dropdown when clicking outside
    window.addEventListener('click', function(e) {
        if (!e.target.matches('#userProfile') && !e.target.closest('#userProfile')) {
            var dropdown = document.getElementById('userDropdown');
            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
            }
        }
    });
    // Toggle dropdown menus in sidebar
    var dropdownToggles = document.querySelectorAll('.dropdown-toggle');
    dropdownToggles.forEach(function(toggle) {
        toggle.addEventListener('click', function(e) {
            e.preventDefault();
            this.classList.toggle('show');
            var menu = this.nextElementSibling;
            menu.classList.toggle('show');
        });
    });
</script>

</body>
</html>